<!-- è®¢å•åˆ—è¡¨é¡µ -->
<view class="orders-page">
  <!-- Tabå¯¼èˆª -->
  <view class="tab-nav">
    <view 
      class="tab-item {{currentTab === index ? 'active' : ''}}"
      wx:for="{{tabs}}"
      wx:key="index"
      data-index="{{index}}"
      bindtap="onTabChange"
    >
      <text class="tab-text">{{item.label}}</text>
      <text class="tab-badge" wx:if="{{item.count > 0}}">{{item.count}}</text>
    </view>
  </view>
  
  <!-- è®¢å•åˆ—è¡¨ -->
  <scroll-view 
    class="order-list" 
    scroll-y="{{true}}"
    scroll-top="{{scrollTop}}"
    enable-back-to-top="{{true}}"
    bindscroll="onScroll"
    bindscrolltolower="onLoadMore"
    refresher-enabled="{{true}}"
    refresher-triggered="{{isRefreshing}}"
    refresher-default-style="black"
    refresher-background="#f5f5f5"
    bindrefresherrefresh="onRefresh"
  >
    <!-- è®¢å•å¡ç‰‡åˆ—è¡¨ -->
    <view class="list-content" wx:if="{{orders.length > 0}}">
      <order-card 
        wx:for="{{orders}}" 
        wx:key="id"
        order="{{item}}"
        bind:tap="onOrderTap"
        bind:action="onOrderAction"
      />
    </view>
    
    <!-- åŠ è½½çŠ¶æ€ -->
    <view class="load-status">
      <loading wx:if="{{isLoading}}" type="spinner" text="åŠ è½½ä¸­..."/>
      <text class="no-more" wx:if="{{!hasMore && orders.length > 0}}">æ²¡æœ‰æ›´å¤šäº†</text>
    </view>
    
    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{!isLoading && orders.length === 0}}">
      <text class="empty-icon">ğŸ“‹</text>
      <text class="empty-text">æš‚æ— {{tabs[currentTab].label}}è®¢å•</text>
      <button class="btn-go" bindtap="onGoBooking">å»é¢„çº¦</button>
    </view>
  </scroll-view>
</view>
